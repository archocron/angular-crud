"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[6325],{6325:(P,c,r)=>{r.r(c),r.d(c,{UserModule:()=>j});var Z=r(6814),h=r(2129),t=r(4769),C=r(9862);let U=(()=>{class n{constructor(e){this.http=e}getUsers(){return this.http.get("http://94.143.137.107/user")}deleteUser(e){return this.http.delete("http://94.143.137.107/user/"+e.id)}insertUser(e,s,i,l){return this.http.post("http://94.143.137.107/user",JSON.stringify({name:e,country:s,phone:i,rol:l}),{headers:{"Content-Type":"application/json"}})}updateUser(e,s,i,l,o){return this.http.put("http://94.143.137.107/user/"+o,JSON.stringify({name:e,country:s,phone:i,rol:l}),{headers:{"Content-Type":"application/json"}})}static#t=this.\u0275fac=function(s){return new(s||n)(t.LFG(C.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var d=r(4532),T=r(5219),g=r(6340),m=r(707),b=r(9552),v=r(1312),a=r(95),f=r(3714);function _(n,p){1&n&&(t.TgZ(0,"tr")(1,"th",14),t._uU(2,"Name"),t.qZA(),t.TgZ(3,"th",14),t._uU(4,"Country"),t.qZA(),t.TgZ(5,"th",14),t._uU(6,"Phone"),t.qZA(),t.TgZ(7,"th",14),t._uU(8,"Rol"),t.qZA(),t.TgZ(9,"th",14),t._uU(10,"Actions"),t.qZA()())}function y(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"p-button",15),t.NdJ("click",function(){const l=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.update(l))}),t.qZA(),t.TgZ(11,"p-button",16),t.NdJ("click",function(){const l=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.delete(l))}),t.qZA()()()}if(2&n){const e=p.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.country," "),t.xp6(2),t.hij(" ",e.phone," "),t.xp6(2),t.hij(" ",e.rol," ")}}function A(n,p){1&n&&(t.TgZ(0,"tr")(1,"td",17),t._uU(2,"No users found."),t.qZA()())}const J=function(){return{width:"50vw"}},M=function(){return[10,25,50]};let N=(()=>{class n{constructor(e){this.userService=e,this.loading=!0,this.visible=!1}ngOnInit(){this.userService.getUsers().subscribe(e=>{this.users=e})}showDialog(){this.visible=!0,this.id=null}submit(){console.log("ID:"),console.log(this.id),this.id?this.userService.updateUser(this.name,this.country,this.phone,this.rol,this.id).subscribe(e=>{this.visible=!1,this.resetForm(),this.userService.getUsers().subscribe(s=>{this.users=s})}):this.userService.insertUser(this.name,this.country,this.phone,this.rol).subscribe(e=>{this.visible=!1,this.resetForm(),this.userService.getUsers().subscribe(s=>{this.users=s})})}resetForm(){this.name="",this.country="",this.phone="",this.rol=""}delete(e){this.userService.deleteUser(e).subscribe(s=>{this.userService.getUsers().subscribe(i=>{this.users=i})})}update(e){this.name=e.name,this.country=e.country,this.phone=e.phone,this.rol=e.rol,this.visible=!0,this.id=e.id}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(U))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-user"]],decls:34,vars:17,consts:[["header","New User",3,"visible","modal","draggable","resizable","visibleChange"],[1,"col-12"],[1,"flex","flex-column","gap-2"],["htmlFor","username"],["pInputText","","id","username","aria-describedby","username-help",3,"ngModel","ngModelChange"],[1,"sm:col-12","lg:col-6"],["label","Submit","icon","pi pi-plus","styleClass","p-button-sm",1,"mr-2",3,"click"],[1,"grid"],[1,"p-toolbar-group-start"],["label","Create","icon","pi pi-plus","styleClass","p-button-sm",1,"mr-2",3,"click"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","20%"],["icon","pi pi-fw pi-pencil","styleClass","p-button-sm p-button-text",3,"click"],["icon","pi pi-trash","styleClass","p-button-sm p-button-text",3,"click"],["colspan","5"]],template:function(s,i){1&s&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(o){return i.visible=o}),t.TgZ(1,"div",1)(2,"div",2)(3,"label",3),t._uU(4,"Username"),t.qZA(),t.TgZ(5,"input",4),t.NdJ("ngModelChange",function(o){return i.name=o}),t.qZA()()(),t.TgZ(6,"div",1)(7,"div",2)(8,"label",3),t._uU(9,"Country"),t.qZA(),t.TgZ(10,"input",4),t.NdJ("ngModelChange",function(o){return i.country=o}),t.qZA()()(),t.TgZ(11,"div",1)(12,"div",2)(13,"label",3),t._uU(14,"Phone"),t.qZA(),t.TgZ(15,"input",4),t.NdJ("ngModelChange",function(o){return i.phone=o}),t.qZA()()(),t.TgZ(16,"div",1)(17,"div",2)(18,"label",3),t._uU(19,"Rol"),t.qZA(),t.TgZ(20,"input",4),t.NdJ("ngModelChange",function(o){return i.rol=o}),t.qZA()()(),t.TgZ(21,"div",5)(22,"div",2)(23,"p-button",6),t.NdJ("click",function(){return i.submit()}),t.qZA()()()(),t.TgZ(24,"div",7)(25,"div",1)(26,"p-card")(27,"p-toolbar")(28,"div",8)(29,"p-button",9),t.NdJ("click",function(){return i.showDialog()}),t.qZA()()(),t.TgZ(30,"p-table",10),t.YNc(31,_,11,0,"ng-template",11),t.YNc(32,y,12,4,"ng-template",12),t.YNc(33,A,3,0,"ng-template",13),t.qZA()()()()),2&s&&(t.Akn(t.DdM(15,J)),t.Q6J("visible",i.visible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(5),t.Q6J("ngModel",i.name),t.xp6(5),t.Q6J("ngModel",i.country),t.xp6(5),t.Q6J("ngModel",i.phone),t.xp6(5),t.Q6J("ngModel",i.rol),t.xp6(10),t.Q6J("value",i.users)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(16,M))("paginator",!0))},dependencies:[d.Z,T.jx,g.o,m.zx,b.iA,v.V,a.Fj,a.JJ,a.On,f.o],styles:[".layout[_ngcontent-%COMP%]{padding:2em}"]})}return n})(),S=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[h.Bz.forChild([{path:"",component:N}]),h.Bz]})}return n})();var x=r(3965);let j=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[Z.ez,S,d.d,g.V,m.hJ,b.U$,v.S,x.kW,a.u5,f.j]})}return n})()}}]);